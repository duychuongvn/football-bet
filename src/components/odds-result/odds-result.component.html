<v-layout row wrap>
  <v-flex xs12>
    <v-card flat dark color="transparent">
      <v-card-text class="pa-0">
        <v-tabs fixed-tabs color="transparent" class="my-bet-tabs" slider-color="teal lighten-2">
          <v-tab v-for="label in oddsTitle" :key="label.key" @click="selectOddsType(label.key)">
            {{ label.name }}
          </v-tab>
        </v-tabs>
      </v-card-text>
    </v-card>
  </v-flex>

  <v-flex md6 text-xs-center :offset-md6="!isOddsOpen" xs12>
    <v-chip label v-for="filter in listFilter" :key="filter.key" :outline="!isActiveFilter(filter.key)"
      :class="isActiveFilter(filter.key) ? 'white--text': 'cursor-pointer'"
      :color="isActiveFilter(filter.key) ? 'teal lighten-1': ''" @click="changedFilter(filter.key)">
      {{ filter.name }}
    </v-chip>
  </v-flex>

  <!--<v-flex xs12>-->
  <!--<v-layout row wrap class="white&#45;&#45;text">-->
  <!--<v-flex xs2 offset-md7 offset-xs5 offset-xs4 class="align-flex-end text-uppercase" text-xs-right>-->
  <!--<span>Sort By :</span>-->
  <!--</v-flex>-->

  <!--<v-flex md1 sm2 xs2>-->
  <!--<v-select hide-details hide-selected :menu-props="{contentClass:'bet-select'}" v-model="selectedParent"-->
  <!--:items="sortParent" item-text="name"-->
  <!--item-value="key" dark color="white" append-icon="fas fa-chevron-down font-sm"></v-select>-->
  <!--</v-flex>-->

  <!--<v-flex md2 sm3 xs4>-->
  <!--<v-select hide-details hide-selected :menu-props="{contentClass:'bet-select'}" v-model="selectedChild"-->
  <!--:items="sortChild[selectedParent]"-->
  <!--item-text="name" item-value="id" dark color="white"-->
  <!--append-icon="fas fa-chevron-down font-sm"></v-select>-->
  <!--</v-flex>-->
  <!--</v-layout>-->
  <!--</v-flex>-->

  <v-flex xs12>
    <v-card raised dark color="blue-grey lighten-6-opacity mt-3">
      <v-expansion-panel class="accor-fixture" :value="0" v-if="!!oddsResult.length">
        <v-expansion-panel-content
          v-for="odds in oddsResult"
          :key="odds.matchId"
          class="bg-transparent"
          expand-icon="fas fa-chevron-down font-sm">

          <div class="text-capitalize" slot="header">
            {{ odds.match.dateTimeString }} | {{ odds.match.homeTeam }}
            <span v-if="odds.match.status !==1">{{odds.match.homeGoals}}- {{odds.match.awayGoals}}</span>
            <span class="text-no-wrap" v-if="odds.match.status === 1"> - </span>
            {{ odds.match.awayTeam }} ({{ odds.summary.stake }} ETH)

            <v-tooltip bottom lazy v-if="isFinished && odds.summary.payoutAvailable">
              <v-btn class="text-capitalize" color="teal lighten-1" small slot="activator" @click="dialogClaimStake(odds)">
                <v-icon size="18" left class="mr-2">fas fa-hand-holding-usd</v-icon>
                Request Payout
              </v-btn>
              <span>Request Payout</span>
            </v-tooltip>
          </div>

          <v-card-text>
            <v-data-table :headers="headTb" :items="odds.bettings" hide-actions class="bg-transparent table-fixture">
              <template slot="items" slot-scope="props">
                <tr>
                  <td @click="props.expanded = !props.expanded">{{ props.index + 1 }}</td>
                  <td>
                    <account-addr :address="props.item.bookmakerAddress"/>
                  </td>
                  <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ oddsString(props.item, odds.match) }}</td>
                  <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ stakeAmount(props.item) }}</td>
                  <td class="text-xs-center" @click="props.expanded = !props.expanded"
                    :class="returnClass(props.item)">{{ openAmount(props.item) }}</td>
                  <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ oddsStatus(props.item) }}</td>
                  <td class="text-xs-left">
                    <v-tooltip bottom lazy :disabled="props.item.isDisabled" v-if="!isFinished">
                      <v-btn class="text-capitalize" color="red lighten-1" small slot="activator"
                             @click="dialogCancel(props.item, odds.match)" :disabled="props.item.isDisabled">
                        <v-icon size="18" left class="mr-2">fas fa-times-circle</v-icon>
                        Cancel
                      </v-btn>
                      <span>Cancel</span>
                    </v-tooltip>
                    <v-tooltip bottom lazy :disabled="props.item.isDisabledShare" v-if="!isFinished">
                      <v-btn class="text-capitalize" color="blue lighten-1" small slot="activator"
                             :disabled="props.item.isDisabledShare"
                             @click="openShare(props.item.id, odds.match.homeTeam, odds.match.awayTeam, odds.match.date)">
                        <v-icon size="18" left class="mr-2">fas fa-share-alt-square</v-icon>
                        Share
                      </v-btn>
                      <span>Share</span>
                    </v-tooltip>
                    <v-btn fab dark class="btn-punter" color="blue lighten-1" :class="{ 'active': props.expanded }"
                           @click="props.expanded = !props.expanded"
                           v-if="props.item.punters.length !== 0 && !isFinished">
                      <v-icon dark small class="white--text">fas fa-angle-down</v-icon>
                    </v-btn>
                  </td>
                </tr>
              </template>

              <template slot="expand" slot-scope="props" v-if="props.item.punters.length !== 0 && !isFinished">
                <match-punters :punters="props.item.punters" :betting="props.item" :match="odds.match"/>
              </template>
            </v-data-table>
          </v-card-text>

        </v-expansion-panel-content>
      </v-expansion-panel>

      <v-card-text class="text-xs-center" v-if="!oddsResult.length">
        No Handicap
      </v-card-text>
    </v-card>
  </v-flex>
</v-layout>
