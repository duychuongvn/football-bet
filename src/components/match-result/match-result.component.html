<v-card raised dark color="blue-grey lighten-6-opacity">
  <v-data-table
    :loading="!!loadingBetting"
    :headers="headTb"
    :search="search"
    :custom-filter="customFilter"
    :rows-per-page-items="rowPerPage"
    :items="bettings" next-icon="fas fa-chevron-right" prev-icon="fas fa-chevron-left"
    :hide-actions="!(bettings.length > 10)" class="bg-transparent table-fixture">
    <v-progress-linear slot="progress" color="teal darken-2" indeterminate></v-progress-linear>
    <template slot="items" slot-scope="props">
      <tr>
        <td @click="props.expanded = !props.expanded">{{ (props.index + 1) }}</td>
        <td><account-addr :address="props.item.bookmakerAddress"/></td>
        <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ oddsString(props.item) }}</td>
        <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ props.item.bookmakerAmountString }}</td>
        <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ props.item.settledAmountString }}</td>
        <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ props.item.openAmount }}</td>
        <td class="text-xs-center" @click="props.expanded = !props.expanded">{{ props.item.punters.length }}</td>
        <td class="text-xs-left">
          <v-tooltip bottom lazy :disabled="props.item.status === 2 || props.item.isOwner || loadingBetting">
            <v-btn class="text-capitalize" color="teal lighten-1" small slot="activator" @click="createOdds(props.item)"
            :disabled="props.item.status >= 2 || props.item.isOwner || loadingBetting"
            :loading="!props.item.isOwner && props.item.status < 2 && loadingBetting">
              <v-icon size="18" left class="mr-2">fas fa-handshake</v-icon>
              Settle
            </v-btn>
            <span>Settle</span>
          </v-tooltip>

          <v-tooltip bottom lazy :disabled="!!props.item.status">
            <v-btn class="text-capitalize" color="blue lighten-1" small slot="activator"
              @click="openShare(props.item.bettingId)"
              :disabled="props.item.status === 2">
              <v-icon size="18" left class="mr-2">fas fa-share-alt-square</v-icon>
              Share
            </v-btn>
            <span>Share</span>
          </v-tooltip>

          <v-btn fab dark class="btn-punter" color="blue lighten-1" :class="{ 'active': props.expanded }"
            @click="props.expanded = !props.expanded"
            v-if="props.item.punters.length !== 0">
            <v-icon dark small class="white--text">fas fa-angle-down</v-icon>
          </v-btn>
        </td>
      </tr>
    </template>
    <template slot="expand" slot-scope="props" >
      <match-punters :punters="props.item.punters" :betting="props.item" :match="match" v-if="props.item.punters.length !== 0"/>
    </template>

  </v-data-table>
</v-card>
